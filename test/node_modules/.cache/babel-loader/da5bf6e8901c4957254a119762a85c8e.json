{"remainingRequest":"D:\\test练习\\1.取消请求功能\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\test练习\\1.取消请求功能\\test\\src\\utils\\request.js","dependencies":[{"path":"D:\\test练习\\1.取消请求功能\\test\\src\\utils\\request.js","mtime":1679216925330},{"path":"D:\\test练习\\1.取消请求功能\\test\\babel.config.js","mtime":1678961044586},{"path":"D:\\test练习\\1.取消请求功能\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1679212472756},{"path":"D:\\test练习\\1.取消请求功能\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":1679212473861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlL2luZGV4LmpzJzsKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICIvYXBpIiwKICB0aW1lb3V0OiAyMDAwMAp9KTsKdmFyIENhbnNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47CnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBjb25maWcuY2FuY2VsVG9rZW4gPSBuZXcgQ2Fuc2VsVG9rZW4oZnVuY3Rpb24gKGNiKSB7CiAgICB2YXIgdXJsID0gY29uZmlnLnVybDsKICAgIHN0b3JlLmNvbW1pdCgnQUREX0ZOJywgewogICAgICB1cmw6IHVybCwKICAgICAgY2I6IGNiCiAgICB9KTsKICB9KTsKICByZXR1cm4gY29uZmlnOwp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciB1cmwgPSByZXNwb25zZS5jb25maWcudXJsOwogIHN0b3JlLmNvbW1pdCgnUk1fRk4nLCB1cmwpOwogIHJldHVybiByZXNwb25zZS5kYXRhOwp9KTsKZXhwb3J0IGRlZmF1bHQgcmVxdWVzdDs="},{"version":3,"sources":["D:/test练习/1.取消请求功能/test/src/utils/request.js"],"names":["axios","store","request","create","baseURL","timeout","CanselToken","CancelToken","interceptors","use","config","cancelToken","cb","url","commit","response","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,MADgB;AAEzBC,EAAAA,OAAO,EAAE;AAFgB,CAAb,CAAhB;AAIA,IAAMC,WAAW,GAAGN,KAAK,CAACO,WAA1B;AACAL,OAAO,CAACM,YAAR,CAAqBN,OAArB,CAA6BO,GAA7B,CAAiC,UAACC,MAAD,EAAY;AAGzCA,EAAAA,MAAM,CAACC,WAAP,GAAqB,IAAIL,WAAJ,CAAiB,UAAAM,EAAE,EAAI;AACxC,QAAMC,GAAG,GAAGH,MAAM,CAACG,GAAnB;AACAZ,IAAAA,KAAK,CAACa,MAAN,CAAa,QAAb,EAAuB;AAAED,MAAAA,GAAG,EAAEA,GAAP;AAAYD,MAAAA,EAAE,EAAEA;AAAhB,KAAvB;AACH,GAHoB,CAArB;AAIA,SAAOF,MAAP;AACH,CARD;AAUAR,OAAO,CAACM,YAAR,CAAqBO,QAArB,CAA8BN,GAA9B,CAAkC,UAACM,QAAD,EAAc;AAC5C,MAAMF,GAAG,GAAGE,QAAQ,CAACL,MAAT,CAAgBG,GAA5B;AACAZ,EAAAA,KAAK,CAACa,MAAN,CAAa,OAAb,EAAsBD,GAAtB;AACA,SAAOE,QAAQ,CAACC,IAAhB;AACH,CAJD;AAMA,eAAed,OAAf","sourcesContent":["import axios from 'axios';\r\nimport store from '../store/index.js'\r\nconst request = axios.create({\r\n    baseURL: \"/api\",\r\n    timeout: 20000\r\n})\r\nconst CanselToken = axios.CancelToken\r\nrequest.interceptors.request.use((config) => {\r\n\r\n\r\n    config.cancelToken = new CanselToken((cb => {\r\n        const url = config.url\r\n        store.commit('ADD_FN', { url: url, cb: cb })\r\n    }))\r\n    return config\r\n})\r\n\r\nrequest.interceptors.response.use((response) => {\r\n    const url = response.config.url\r\n    store.commit('RM_FN', url)\r\n    return response.data;\r\n})\r\n\r\nexport default request\r\n"]}]}